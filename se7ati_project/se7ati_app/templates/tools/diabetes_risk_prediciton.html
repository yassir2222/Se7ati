{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>index</title>
    <link
      href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css"
      rel="stylesheet"
    />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Se7ati - AI Diabetes Risk Assessment</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        secondary: {
                            50: '#f8fafc',
                            500: '#202142',
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #202142 0%, #543fd7 100%);
        }
        
        .card-shadow {
            box-shadow: 0 10px 25px -5px rgba(32, 33, 66, 0.2);
        }
        
        .input-focus:focus {
            border-color: #543fd7;
            box-shadow: 0 0 0 3px rgba(84, 63, 215, 0.2);
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #543fd7;
            border-radius: 50%;
            cursor: pointer;
        }
    </style>
  </head>
    
<body class="bg-gray-50 font-sans">

    {% include 'includes/navbar.html' %}
    <div></div>
    {% include 'includes/sidebar.html' %}

    {% load static %}
    <!-- Header -->
    <header class="gradient-bg text-white py-6">
        <div class="container mx-auto px-6">
            <div class="flex justify-between items-center">
                <a href="/" class="flex items-center gap-3">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                    </svg>
                    <span class="text-2xl font-bold">Se7ati</span>
                </a>
                
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12 max-w-6xl">
        
        <!-- Hero Section -->
        <section class="text-center mb-16">
            <h1 class="text-4xl md:text-5xl font-bold text-secondary-500 mb-4 ml-60">AI-Powered Diabetes Risk Assessment</h1>
            <p class="text-lg text-gray-600 max-w-3xl ml-60">
                Our advanced machine learning model analyzes your health data to provide a personalized assessment of your diabetes risk. Early detection can lead to better management and prevention.
            </p>
        </section>
        
        <!-- Two Column Layout -->
        <div class="grid md:grid-cols-1 gap-12 items-center">
            
            <!-- Prediction Form -->
            <div class="bg-white rounded-xl p-8 card-shadow ml-60">
                <h2 class="text-2xl font-semibold mb-6 text-secondary-500">Enter Your Health Data</h2>
                
                <form id="diabetes-form" class="space-y-6">
                    {% csrf_token %}
                    
                    <!-- Age Input -->
                    
                    
                    <!-- Gender Selection -->

                    <div class="grid grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="age">Age</label>
                            <input type="number" id="age" name="age" min="18" max="100" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none" value="{{ age}}">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="Pregnancies">Pregnancies</label>
                            <input type="number" id="Pregnancies" name="Pregnancies" min="0" max="100" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none" value="0">
                        </div>
                    </div>
                   
                    
                    <div class="grid grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="glucose">
                                Glucose Level <span class="text-xs text-gray-500">(mg/dL)</span>
                            </label>
                            <input type="number" id="glucose" name="age" min="18" max="100" required 
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none">
                            <input type="range" id="glucose-range" name="glucose" min="70" max="300" step="1" value="100"
                                class="w-full h-2 bg-gray-200 rounded-lg appearance-none range-slider">
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>70</span>
                                <output id="glucose-value">100</output>
                                <span>300</span>
                            </div>
                        </div>
                        
                        <!-- Blood Pressure -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="bp">
                                Blood Pressure <span class="text-xs text-gray-500">(mm Hg)</span>
                            </label>
                            <input type="number" id="bp" name="age" min="18" max="100" required 
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none">
                            <input type="range" id="bp-range" name="blood_pressure" min="70" max="200" step="1" value="120"
                                class="w-full h-2 bg-gray-200 rounded-lg appearance-none range-slider">
                            <div class="flex justify-between text-xs text-gray-500 mt-1">
                                <span>70</span>
                                <output id="bp-value">120</output>
                                <span>200</span>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-6">

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="glucose">
                                Skin Thickness <span class="text-xs text-gray-500">(mg/dL)</span>
                            </label>
                            <input type="number" id="glucose" name="Skin" min="18" max="100" required 
                            class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none">
                            
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="bmi">
                                Diabetes Pedigree Function <span class="text-xs text-gray-500"></span>
                            </label>
                            <input type="number" id="bmi" name="DPF" min="15" max="50" step="0.1" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none">
                        </div>
                    </div>                   
                    
                    <div class="grid grid-cols-2 gap-6">

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="bmi">
                                BMI <span class="text-xs text-gray-500">(kg/m²)</span>
                            </label>
                            <input type="number" id="bmi" name="bmi" min="15" max="50" step="0.1" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none">
                        </div>
                    
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="insulin">
                                Insulin <span class="text-xs text-gray-500">(μU/ml)</span>
                            </label>
                            <input type="number" id="insulin" name="insulin" min="0" max="900" required 
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg input-focus focus:outline-none">
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <button type="submit" class="w-full bg-secondary-500 hover:bg-secondary-600 text-white font-medium py-3 px-4 rounded-lg transition duration-200 transform hover:scale-[1.01] focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-opacity-50">
                        Assess My Risk
                    </button>
                </form>
            </div>
            
            <!-- Results Section -->
            <div class="flex flex-col gap-6">
                <!-- Results Card (initially hidden) -->
                <div id="results-card" class="bg-white rounded-xl p-8 card-shadow hidden">
                    <div class="text-center mb-6">
                        <h3 class="text-2xl font-semibold mb-2 text-secondary-500">Your Risk Assessment</h3>
                        <p class="text-gray-600">Based on the data you provided</p>
                    </div>
                    
                    <div class="flex justify-center mb-6">
                        <div class="relative w-48 h-48">
                            <svg class="w-full h-full" viewBox="0 0 120 120">
                                <circle cx="60" cy="60" r="54" fill="none" stroke="#e0e0e0" stroke-width="12"/>
                                <circle id="risk-indicator" cx="60" cy="60" r="54" fill="none" stroke="#543fd7" stroke-width="12" 
                                    stroke-dasharray="339" stroke-dashoffset="339" transform="rotate(-90 60 60)"/>
                            </svg>
                            <div class="absolute inset-0 flex flex-col items-center justify-center">
                                <span id="risk-percentage" class="text-4xl font-bold text-secondary-500">0%</span>
                                <span class="text-gray-500">Risk Level</span>
                            </div>

    <!-- Main Content -->
    </body>
    <script>
var rangeInput = document.getElementById('glucose-range');
var currencyInput = document.getElementById('glucose');
var bprangeInput = document.getElementById('bp-range');
var bpInput = document.getElementById('bp');

// Function to update the currency input
function updateCurrencyInput() {
currencyInput.value = rangeInput.value;
}

// Add event listener to the range input
rangeInput.addEventListener('input', updateCurrencyInput);

function updatebpInput() {
    bpInput.value = bprangeInput.value;
}

// Add event listener to the range input
bprangeInput.addEventListener('input', updatebpInput);
    </script>                    
  </body>
